<!DOCTYPE html>
<html>

    <!DOCTYPE html>

<head>
  <meta name="Content-Type" content="text/html; charset=UTF-8" />
  <meta name='author' content='Marshall Moutenot'>
  <meta name='keywords' content='Marshall Moutenot, mrshll, upstream tech, climate tech' />
  <meta name='license' content='name=BY-NC-SA(4.0), url=https://creativecommons.org/licenses/by-nc-sa/4.0/' />
  <meta name='description' content='2021-06-06 - ' />
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <meta property='og:type' content='website' />
  <meta property='og:title' content='2021-06-06' />
  <meta property='og:description' content='' />
  <meta name='twitter:creator' content='@marsh' />
  <meta name='twitter:title' content='2021-06-06' />
  <meta name='twitter:description' content='' />
  
  
  
  <link rel='stylesheet' type='text/css' href='./links/normalize.css'>
  <link rel='stylesheet' type='text/css' href='./links/skeleton.css'>
  <link rel='stylesheet' type='text/css' href='./links/main.css'>
  <title>mrshll.com - 2021-06-06</title>
</head>


    <body>
        <div class='content'>
            <header>

    <nav><ul><li><mark><a href='index.html'>mrshll.com/</a></mark></li></ul><ul><li><a href='jrnl.html'>Jrnl</a><mark></li><li><a href='logbooks.html'>Logbooks/</a><mark></li><li><mark><a href='notes.html'>Notes/</a><mark></li><li><a href='projects.html'>Projects/</a><mark></li><li><a href='thoughts.html'>Thoughts/</a><mark></li><li><a href='about.html'>About/</a><mark></li></ul><ul><li><mark><a href='daily.html'>Daily/</a><mark></li><li><a href='hiring.html'>Hiring</a><mark></li><li><a href='merveilles_forum_verification.html'>Merveilles Forum Verification</a><mark></li><li><a href='scripting_notes.html'>Scripting Notes</a><mark></li><li><a href='doom_emacs.html'>Doom Emacs</a><mark></li><li><a href='the_fells.html'>The Fells</a><mark></li><li><a href='low_tech.html'>Low Tech</a><mark></li><li>+ 1 more</li></ul><ul><li><a href='2021-07-19.html'>2021-07-19</a><mark></li><li><a href='2021-07-18.html'>2021-07-18</a><mark></li><li><a href='2021-07-11.html'>2021-07-11</a><mark></li><li><a href='2021-06-30.html'>2021-06-30</a><mark></li><li><a href='2021-06-29.html'>2021-06-29</a><mark></li><li><a href='2021-06-28.html'>2021-06-28</a><mark></li><li><a href='2021-06-21.html'>2021-06-21</a><mark></li><li>+ 15 more</li></ul></nav>


    
    <div id='fm'>
        <div id='fm-on' style='display: none;'>
            <span>micro-radio station</span><br/>
            <blink>
                <span style='display: inline-block; height: 10px; width: 10px; border-radius: 5px; background-color: red;'></span>
            </blink>
            <span>on the air</span>
            <a id='fm-togglePlayButton' role='button' style='cursor: pointer;'>[Listen]</a>
        </div>

        <div id='fm-off' style='display: none;'>
            <span>micro-radio station</span><br/>
            <span style='display: inline-block; height: 10px; width: 10px; border-radius: 5px; background-color: grey;'></span>
            <span>off air</span>
        </div>
    </div>


</header>

<script>
 const onAir = document.getElementById('fm-on')
 const offAir = document.getElementById('fm-off')

 const togglePlayButton = document.getElementById('fm-togglePlayButton')
 togglePlayButton.onclick = togglePlay;

 let audioStream, isPlaying = false;

 function togglePlay () {
     if (!audioStream) {
         audioStream = new Audio('http://fm.mrshll.com:2016/stream')
     }

     if (isPlaying) {
         audioStream.pause();
         isPlaying = false;
         togglePlayButton.innerHTML = '[Play]';
     } else {
         audioStream.play();
         isPlaying = true;
         togglePlayButton.innerHTML = '[Pause]';
     }
 }

 function setOnAir () {
     onAir.style='display: block;'
     offAir.style='display: none;'
 }

 function setOffAir () {
     onAir.style='display: none;'
     offAir.style='display: block;'
 }

 async function fetchLiveStatus() {
     try {
         const liveStatusResponse = await (await fetch(
             'https://fm.mrshll.com/status-json.xsl'
             
         )).json();
         setOnAir()
     } catch {
         setOffAir()
     }
 }

 fetchLiveStatus();
 setInterval(fetchLiveStatus, 30000);
</script>


            
            <h1>2021-06-06</h1>
            

            
            <div style='color:#ccc'>last updated 2021-06-06</div>
            

            <section id='entry-body'>
            
            <ul><li>Research on group movement and boids for <a class='mmxlink' href=gamedev.html>&#123;gamedev&#125;</a><ul><li>Boids and Steering<ul><li><a class='mmxlink' href='https://www.red3d.com/cwr/boids/' target='_blank'>&#123;^Boids&#125;</a><ul><li>Three behaviors:<ol><li>Separation: steer to avoid crowding local flockmates</li><li>Alignment: steer towards the average heading of local flockmates</li><li>Cohesion: steer to move toward the average position of local flockmates</li></ol></li><li>Each boid reacts only to flockmates within a certain field of distance and angle (i.e. in fov)</li></ul></li><li><a class='mmxlink' href='https://www.red3d.com/cwr/steer/' target='_blank'>&#123;^Steering Behaviors For Autonomous Characters&#125;</a><ul><li>Simple behaviors for individuals and pairs:<ul><li>Seek and Flee</li><li>Pursue and Evade</li><li>Wander</li><li>Arrival</li><li>Obstacle Avoidance</li><li>Containment</li><li>Wall Following</li><li>Path Following</li><li>Flow Field Following</li></ul></li><li>Combined behaviors and groups:<ul><li>Crowd Path Following</li><li>Leader Following</li><li>Unaligned Collision Avoidance</li><li>Queuing (at a doorway)</li><li>Flocking (combining: separation, alignment, cohesion)</li></ul></li></ul></li></ul></li><li>Videos in a "Unity RTS" devlog series<ul><li><a class='mmxlink' href='https://www.youtube.com/watch?v=jBs5jJNLEpQ&list=PLROHqCOfMPkNvsMiLFNol0NqRjl9GzwFW&index=6' target='_blank'>&#123;^Unity RTS - Movement Tutorial&#125;</a><ul><li>Use "agent" model to define behaviors; design allows you to have multiple behaviors (i.e. avoid obstacle, but move towards objective) easily</li><li>Used a non-MonoBehavior class to store <code>steering</code>, i.e. angular rotation and instantaneously velocity</li><li><code>agent</code> class takes steering to apply velocity to GameObject.</li><li><code>agent</code> has a <code>SetSteering</code> method that takes a steering class and a weight, that allows multiple steering behaviors to be applied.</li><li>using <code>update</code> and <code>lateUpdate</code> separately -- <code>update</code> to update position and orientation, <code>lateUpdate</code> to update velocity and angular velocity (and create a new steering)</li><li>Class <code>AgentBehavior</code> defines the different steering behaviors for the agent. It has a target, an agent, a destination, and all the necessary definitions for the steering behavior.<ul><li>For example, a <em>seek</em> behavior would steer towards a target.</li></ul></li></ul></li><li><a class='mmxlink' href='https://www.youtube.com/watch?v=H9eKQKo8Wxw' target='_blank'>&#123;^Unity RTS - Boids tutorial&#125;</a><ul><li>Use a game object to control game object groups that behave together, i.e. share a target, and give it a <code>child_prefab</code> GameObject property, and a list of members.</li><li>Use boid separation to keep objects with similar movement patterns and the same target to prevent crowding.<ul><li>Define <code>desiredSeparation</code>, and create a steering behavior. Iterate over all members of flock, and create a repulsion depending on inverse of distance.</li></ul></li><li>Boid cohesion aggregates the center of the herd and adds that to the steering's linear vector.</li><li>Separation should have a much greater weight than cohesion.</li><li>Boid alignment means that objects should try to point the same way.</li></ul></li><li><a class='mmxlink' href='https://www.youtube.com/watch?v=4UKMa4JqTTY' target='_blank'>&#123;^Unity RTS - Movement and Pathfinding Groups&#125;</a><ul><li>Interesting series of experiments using leader/followers, flow fields and other movement patterns.</li></ul></li></ul></li><li><a class='mmxlink' href='https://www.gamasutra.com/blogs/DruErridge/20180522/318413/Group_Pathfinding__Movement_in_RTS_Style_Games.php' target='_blank'>&#123;^Group Pathfinding & Movement in RTS Style Games&#125;</a><ul><li>Stopping a group was an issue, because only the first reached its destination. They tried "message passing" where units within a certain proximity would pass the "I'm there" message.</li><li>Having a unit move through a crowd of other units was an issue. Solved by having the unit moving through exert a force on the others, which was also propagated through the group using the message passing system. Starcraft has the unit move out of the way and then back to the original position. In the end this had too many edge cases (i.e. you can push a unit that is idle, but not one that is active).</li><li>Group movement appeared "messy"<ul><li>they tried:<ol><li>calculating center point of group</li><li>taking difference for each unit</li><li>applying the same diff to each unit's destination</li></ol></li><li>this worked well for the common case, but when the destination had obstacles, it broke down.</li><li>when units were dispersed when a command was issue, they'd stay dispersed upon destination arrival</li><li>Solution ended up being to calc a "smart center" for the group:<ol><li>calculate avg position of all units</li><li>remove any units outside of 1 stdev of the average</li><li>recalculate average position from that subset of group</li><li>if the dest is within a stdev of center point, can use naive independent movement</li><li>if there is no meaningful group, you want them to regroup as much as possible, and if stdev is larger than a max, you have them all move to the same dest.</li><li>if there is a cluster but also outliers, collapse them by giving them a destination in the direction of their offset, but only a stdev's length away from the group's central destination. This gives a natural behavior of "collapsing back in" to the group.</li></ul></li></ul></li></ul></li></ul></li></ol>

            </section>

            

            


            
        </div>
    </body>

    <footer>
  <div class='footer-row'>
    <a href="https://twitter.com/marsh">
      <img src="img/twitter.png" style="height: 1.8rem">
    </a>
    <a href="https://github.com/mmoutenot">
      <img src="img/github.png" style="height: 2rem">
    </a>
    <a href="https://webring.xxiivv.com/#random">
      <img src="https://webring.xxiivv.com/icon.black.svg" style="height: 2rem">
    </a>
    <div id='low-tech-webring'>
      <img src="img/lowtechwebring.png" style="height: 2rem; padding-bottom: .2rem">
      <table>
        <tbody>
          <tr>
            <td>
              <a href="https://the-system.eu.org/">←</a>
            </td>
            <td style="text-align:center;">
              <a href="https://the-system.eu.org/">The System</a>
            </td>
            <td style="text-align:center;">
              <span style="font-size:small;">
                <a href="https://emreed.net/LowTech_Directory.html">
                  <img width="80" src="https://emreed.net/LTW.bmp">
                </a>
              </span>
            </td>
            <td style="text-align:center;">
              <a href="https://whoishohokam.com/">Peter's Tech Project Page</a>
            </td>
            <td>
              <a href="https://whoishohokam.com/">→</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <span>Marshall Moutenot © 2021</span>
  </div>

  <div id='lightswitch'>
      <input type='checkbox' id='lightswitch-input'/>
      <label for='lightswitch-input'></label>
  </div>

  <script>
   const toggleSwitch = document.querySelector('#lightswitch input');
   toggleSwitch.addEventListener('change', e => {
       const theme = e.target.checked ? 'dark' : 'light';
       localStorage.setItem('data-theme', theme);
       document.documentElement.setAttribute('data-theme', theme)
   });
   const theme = localStorage.getItem('data-theme') || 'light';
   document.querySelector('#lightswitch input').checked = theme == 'dark';
   document.documentElement.setAttribute('data-theme', theme)
  </script>

</footer>


</html>
<html>
